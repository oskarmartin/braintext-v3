{"version":3,"sources":["app/saved-files/saved-files.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAAkD;AAClD,0CAAyC;AAEzC,0DAAwD;AACxD,0DAAwD;AACxD,yCAAyC;AACzC,0CAA0C;AAC1C,yCAAoC;AAUpC;IAEI,6BACY,WAAwB,EACxB,WAAwB,EACxB,MAAc;QAFd,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QAJ1B,oBAAe,GAAQ,EAAE,CAAC;IAKvB,CAAC;IAEJ,sCAAQ,GAAR;QAAA,iBAOC;QANG,IAAI,EAAE,GAAW,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;YAClD,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAAY,GAAZ,UAAa,QAAgB;QACzB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;YACrD,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;YACjD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,mBAAM,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAC,CAAC,EAAE,UAAU,CAAC,CAAC;QAErE,CAAC,CAAC,CAAA;IAEN,CAAC;IACD,uCAAS,GAAT,UAAU,IAAS;QACf,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,EAAE,iBAAiB,EAAC,CAAC,CAAC;QACvD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC;IAjCQ,mBAAmB;QAN/B,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,aAAa;YACvB,WAAW,EAAE,4BAA4B;YACzC,SAAS,EAAE,CAAC,2BAA2B,CAAC;SAC3C,CAAC;yCAI2B,0BAAW;YACX,0BAAW;YAChB,eAAM;OALjB,mBAAmB,CAkC/B;IAAD,0BAAC;CAlCD,AAkCC,IAAA;AAlCY,kDAAmB","file":"saved-files.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { UserService } from \"../_services/user.service\";\nimport { FileService } from \"../_services/file.service\";\n//import { FileSaver } from \"file-saver\";\n//import * as FileSaver from 'file-saver';\nimport { saveAs } from \"file-saver\";\n\n\n\n@Component({\n    moduleId: module.id,\n    selector: 'saved-files',\n    templateUrl: 'saved-files.component.html',\n    styleUrls: ['saved-files.component.css']\n})\nexport class SavedFilesComponent implements OnInit {\n    savedFilesArray: any = [];\n    constructor(\n        private userService: UserService,\n        private fileService: FileService,\n        private router: Router,\n    ) {}\n\n    ngOnInit() {\n        var id: string = JSON.parse(localStorage.getItem('user'));\n        console.log(this.userService.getUserFiles(id));\n        this.userService.getAllArchiveFiles(id).subscribe(data => {\n            this.savedFilesArray = data;\n            this.savedFilesArray.reverse();\n        });\n    }\n\n    downloadFile(filename: string){\n        console.log(\"filename -> \", filename);\n        this.userService.downloadArchive(filename).subscribe(data => {\n            console.log(\"this is the data of file download\");\n            console.log(data);\n            saveAs(new Blob([data], { type: \"application/pdf\"}), \"test.pdf\");\n\n        })\n\n    }\n    parseFile(data: any){\n        var blob = new Blob([data], {type: 'application/pdf'});\n        console.log(blob);\n        var url = window.URL.createObjectURL(blob);\n        console.log(url);\n        window.open(url);\n    }\n}\n"]}