{"version":3,"sources":["app/side-menu/side-menu.component.ts"],"names":[],"mappings":"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","file":"side-menu.component.js","sourcesContent":["import { Component, HostListener, ElementRef, Output, EventEmitter, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { UserService } from '../_services/user.service';\nimport { FileService } from '../_services/file.service';\nimport { trigger, state, style, transition, animate} from '@angular/animations';\n\nimport { ClickService } from \"../_services/click.service\";\n\n@Component({\n    moduleId: module.id,\n    templateUrl: \"side-menu.component.html\",\n    styleUrls: ['./side-menu.component.css'],\n    selector: \"side-menu\",\n    animations:Â [\n        trigger('ulAnimation', [\n            transition(\"* => fadeIn\", [\n                style({\n                    opacity: 0,\n                }),\n                animate(1000, style({opacity: 1}))\n            ]),\n            transition(\"* => fadeOut\", [\n                animate(1000, style({opacity: 0}))\n            ])\n        ])\n    ]\n})\n\nexport class SidemenuComponent {\n    nameArray: any = [];\n    archiveArray: any = [];\n    sourceFiles: boolean = false;\n    navMenu: boolean = true;\n    bindingVar: string = \"\";\n    archiveFiles: boolean = false;\n    currentDate = new Date();\n\n\n    constructor(\n        private elementRef: ElementRef,\n        private userService: UserService,\n        private fileService: FileService,\n        private clickService: ClickService,\n        private router: Router\n    ){}\n    ngOnInit(){\n        var id: string = JSON.parse(localStorage.getItem('user'));\n        console.log(this.userService.getUserFiles(id));\n        this.userService.getUserFiles(id).subscribe(data => {\n            console.log(\"this is the data\");\n            this.nameArray = data;\n            console.log(this.nameArray);\n\n        });\n        this.userService.getArchiveFiles(id).subscribe(data => {\n            this.archiveArray = data;\n        })\n    }\n    @Output() offClick = new EventEmitter();\n\n    closeSideMenu(){\n        this.offClick.emit(\"close\");\n    }\n    showSource(){\n        this.navMenu = false;\n        this.sourceFiles = true;\n    }\n    showArchive(){\n        this.navMenu = false;\n        this.archiveFiles = true;\n    }\n    onFileChange(event){\n        let files = event.target.files;\n        this.saveFiles(files);\n    }\n    changeNavigation(url:string){\n        this.router.navigate(['/dashboard/'+ url]);\n        this.clickService.closeSideMenu();\n        this.clickService.moveBody();\n    }\n    openHome(){\n        this.router.navigate(['/dashboard']);\n    }\n    navigationBack(from:string){\n        if(from === \"source\"){\n            this.sourceFiles = false;\n            this.navMenu = true;\n        }\n        if(from === \"archive\"){\n            this.archiveFiles = false;\n            this.navMenu = true;\n        }\n    }\n    saveFiles(files){\n        if(files.length > 0){\n            var formData: FormData = new FormData();\n            formData.append(\"file\", files[0], files[0].name);\n\n            var parameters = {\n                userId: JSON.parse(localStorage.getItem('user'))\n            }\n            this.fileService.upload(formData, parameters).subscribe(\n                data => {\n                    this.fileService.uploadFromSide(data.filename);\n                },\n                error => {\n                    console.log(\"there was an error with upload\")\n                }\n            )\n        }\n    }\n    openFromSideMenu(src: string){\n        this.fileService.uploadFromSide(src);\n        this.router.navigate(['/dashboard']);\n        this.clickService.closeSideMenu();\n        this.clickService.moveBody();\n    }\n}\n"]}